from beet import Function

as @a:
    memo:
        say hello

memo dope=1:
    dope

x = 42
memo x:
    for i in range(x):
        as @e[type=pig, scores={foo=1.., bar=i}, tag=okok] at @s[]
            anchored eyes align xyz positioned ~ ~1 ~ if block ^ ^ ^1 stone expand:
            say i
            setblock ~ ~ ~i air

def make_tree(n=0):
    memo count=42, n:
        total = count + n
        for node in generate_tree(range(total), name=f"tree_{total}"):
            append function node.parent:
                if node.partition():
                    if score @s thingy matches node.range function node.children
                else:
                    if score @s thingy matches node.range say node.value

make_tree()

say ok
say bye

make_tree()
make_tree(15)

memo:
    ctx.generate("{hash}", Function(["say uwu"]))
    function_tag demo:nothing {
        "values": [__name__]
    }
